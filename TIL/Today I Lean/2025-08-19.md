## TIL 2025-08-19

### 오늘 배운 것
- HTTP는 ‘상태 비저장(stateless)’ 프로토콜이다. 즉, 요청 자체만으로 해석 가능하며 서버가 이전 요청의 애플리케이션 상태를 자동 보존하지 않는다. (연결의 지속 여부와는 별개) 

- 연결(persistent connection) 은 성능을 위해 HTTP/1.1부터 기본적으로 유지되지만, 상태 보존과는 다른 개념이다. 연결을 유지해도 애플리케이션 상태는 쿠키/세션 등으로 따로 관리한다. 


- 쿠키(cookie) 는 클라이언트(브라우저)에 저장되는 작은 데이터다. 서버가 Set-Cookie로 내려주면, 브라우저는 같은 범위의 요청마다 Cookie 헤더로 되돌려 보낸다. 용량·개수 제한이 있으며(예: 최소 4KB/개·도메인당 50개 권고), 보안 속성(Secure, HttpOnly, SameSite)을 올바르게 설정해야 한다. 


- 세션(session) 은 서버 측 저장소에 사용자 상태를 보관하고, 브라우저에는 ‘세션 ID’만(대개 쿠키로) 준다. 세션 ID에는 개인정보/민감정보를 절대 담지 말고, 충분한 난수성(최소 64비트 이상 엔트로피)으로 생성해야 한다. 


- 쿠키 ↔ 세션 관계: 일반적 패턴은 “서버가 세션을 만들고 → 세션 ID를 쿠키로 발급 → 브라우저가 매 요청마다 쿠키로 세션 ID 제출 → 서버가 세션 저장소에서 상태 조회” 이다.